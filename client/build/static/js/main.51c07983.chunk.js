(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,a){},103:function(e,a){},122:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),s=t(8),o=t(9),u=t(7);var m=function(){return r.a.createElement("header",{className:"home-cta"},r.a.createElement("h1",null,"Your Horror Story"))},i=t(125);var p=function(){return r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h1",null,"Horror Story Project")),r.a.createElement("div",null,r.a.createElement("p",null,"It happened that I am a big fan of various horror stories and movies. Unfortunately, less and less often, studios and writers are releasing good content on this topic and this site is an opportunity to share your story with others and find something interesting and new for yourself.")))};var E=function(){return r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h1",null,"Contact Information")),r.a.createElement("div",null,r.a.createElement("p",null,"Phone number: 8(800) - 555 -35 -35"),r.a.createElement("p",null,"Email: yourhorrorstory@info.com")))},b=t(17),d=t(19),f=t(6),v=t.n(f),h=t(10),g=t(11),y=t.n(g),O=t(126),w=t(1),N=function(e){var a=e.setUser,t=Object(n.useState)({email:"",password:""}),l=Object(o.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),E=p[0],f=p[1],g=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/authenticate",c);case 4:200===(n=e.sent).status?(a(n.data.user),Object(w.b)("You have logged in successfully",{type:w.b.TYPE.SUCCESS}),f(!0)):Object(w.b)("There was an issue loging you in. Please check your credentials. ",{type:w.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(w.b)("There was an issue loging you in. Please check your credentials. ",{type:w.b.TYPE.ERROR});case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),N=function(e){e.persist();var a=e.target,t=a.name,n=a.value;s((function(e){return Object(d.a)({},e,Object(b.a)({},t,n))})),console.log(c)};return E?r.a.createElement(u.a,{to:"/resources"}):r.a.createElement(i.a,{className:"container my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Login")),r.a.createElement("hr",null),r.a.createElement(O.a,{onSubmit:g},r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement(O.a.Control,{type:"email",name:"email",onChange:N,value:c.email})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement(O.a.Control,{type:"password",name:"password",onChange:N,value:c.password})),r.a.createElement(O.a.Group,null,r.a.createElement("button",{className:"btn btn-primary"},"Login"))))},j=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1];Object(n.useEffect)((function(){Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)})))()}),[]);var u=function(){var e=Object(h.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/resources");case 2:200===(a=e.sent).status&&c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/resources/delete",{id:a._id});case 3:200===e.sent.status&&Object(w.b)("The story was deleted successfully",{type:w.b.TYPE.SUCCESS}),u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(w.b)("There was an error deleting the story",{type:w.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Archive")),r.a.createElement("hr",null),r.a.createElement("div",{className:"content"},l&&l.map((function(a,t){return r.a.createElement("div",{key:t,className:"card my-3"},r.a.createElement("div",{className:"card-header clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h5",{className:"card-title"},a.title),a.user?r.a.createElement("small",null,"~",a.user.fullname):null),r.a.createElement("div",{className:"float-right"},r.a.createElement("small",null,a.updateAt))),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},a.synopsis)),e?r.a.createElement("div",{className:"card-footer"},r.a.createElement(s.b,{to:{pathname:"/resources/edit",state:{id:a._id}}},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("button",{type:"button",onClick:function(){return m(a)}},r.a.createElement("i",{className:"fa fa-trash"}))):null)}))))},C=function(){var e=Object(n.useState)({title:"",content:"",status:"DRAFT"}),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],p=s[1],E=function(){var e=Object(h.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/resources",t);case 4:200===e.sent.status?(Object(w.b)("The story was created successfully",{type:w.b.TYPE.SUCCESS}),p(!0)):Object(w.b)("There was an issue creating the story",{type:w.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(w.b)("There was an issue creating the story",{type:w.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),t=a.target,n=t.name,r=t.value,l((function(e){return Object(d.a)({},e,Object(b.a)({},n,r))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return m?r.a.createElement(u.a,{to:"/resources"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Stary a New Story")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(O.a,{onSubmit:E},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Title"),r.a.createElement(O.a.Control,{name:"title",onChange:f,value:t.title})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Content"),r.a.createElement(O.a.Control,{as:"textarea",name:"content",onChange:f,value:t.content})),r.a.createElement(O.a.Group,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create")))))},S=function(e){var a=e.location.state.id,t=Object(n.useState)({title:"",content:"",status:"DRAFT"}),l=Object(o.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),E=p[0],f=p[1];Object(n.useEffect)((function(){Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/resources/".concat(a));case 2:200===(t=e.sent).status&&s(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var g=function(){var e=Object(h.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/resources/update",c);case 4:200===e.sent.status?(Object(w.b)("The story was updating successfully",{type:w.b.TYPE.SUCCESS}),f(!0)):Object(w.b)("There was an issue updating the story",{type:w.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(w.b)("There was an issue updating the story",{type:w.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),t=a.target,n=t.name,r=t.value,s((function(e){return Object(d.a)({},e,Object(b.a)({},n,r))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return E?r.a.createElement(u.a,{to:"/resources"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Edit Your Story")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(O.a,{onSubmit:g},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Title"),r.a.createElement(O.a.Control,{name:"title",onChange:N,value:c.title})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Content"),r.a.createElement(O.a.Control,{as:"textarea",name:"content",onChange:N,value:c.content})),r.a.createElement(O.a.Group,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update")))))},x=(t(88),function(e){var a=e.setUser,t=Object(n.useState)({firstName:"",lastName:"",email:"",emailConfirmation:"",password:"",passwordConfirmation:""}),l=Object(o.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),E=p[0],f=p[1],g=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/register",c);case 4:200===(n=e.sent).status?(a(n.data.user),sessionStorage.setItem("user",JSON.stringify(n.data.user)),Object(w.b)("You have registered successfully and been logged in.",{type:w.b.TYPE.SUCCESS}),f(!0)):Object(w.b)("There was an issue registering you.",{type:w.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(w.b)("There was an issue registering you.",{type:w.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),N=function(e){e.persist();var a=e.target,t=a.name,n=a.value;s((function(e){return Object(d.a)({},e,Object(b.a)({},t,n))}))};return E?r.a.createElement(u.a,{to:"/"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Register")),r.a.createElement("hr",null),r.a.createElement(O.a,{onSubmit:g},r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"firstName"},"First Name:"),r.a.createElement(O.a.Control,{type:"firstName",name:"firstName",onChange:N,value:c.firstName})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),r.a.createElement(O.a.Control,{type:"lastName",name:"lastName",onChange:N,value:c.lastName})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement(O.a.Control,{type:"email",name:"email",onChange:N,value:c.email})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"emailConfirmation"},"Email Confirmation:"),r.a.createElement(O.a.Control,{type:"emailConfirmation",name:"emailConfirmation",onChange:N,value:c.emailConfirmation})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement(O.a.Control,{type:"password",name:"password",onChange:N,value:c.password})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"passwordConfirmation"},"Password Confirmation:"),r.a.createElement(O.a.Control,{type:"password",name:"passwordConfirmation",onChange:N,value:c.passwordConfirmation})),r.a.createElement(O.a.Group,null,r.a.createElement("button",{className:"btn btn-primary"},"Register"))))}),R=function(e){var a=e.setUser,t=Object(n.useState)(!1),l=Object(o.a)(t,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/logout");case 3:200===e.sent.status&&(a(!1),Object(w.b)("You have successfully loged out",{type:w.b.TYPE.SUCCESS}),s(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(w.b)("There was an arror while attempting to log out",{type:w.b.TYPE.ERROR});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),c?r.a.createElement(u.a,{to:"/resources"}):null};var T=function(e){var a=e.user,t=e.setUser;return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:m}),r.a.createElement(u.b,{exact:!0,path:"/about",component:p}),r.a.createElement(u.b,{exact:!0,path:"/contact",component:E}),r.a.createElement(u.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(N,Object.assign({},e,{setUser:t}))}}),r.a.createElement(u.b,{exact:!0,path:"/logout",render:function(e){return r.a.createElement(R,Object.assign({},e,{setUser:t}))}}),r.a.createElement(u.b,{exact:!0,path:"/resources",render:function(e){return r.a.createElement(j,Object.assign({},e,{user:a}))}}),r.a.createElement(u.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(x,Object.assign({},e,{setUser:t}))}}),r.a.createElement(u.b,{exact:!0,path:"/resources/new",component:C}),r.a.createElement(u.b,{exact:!0,path:"/resources/edit",component:S}))};var k=function(e){var a=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},"YHS"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/about",className:"nav-link"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/contact",className:"nav-link"},"Contact")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"",className:"nav-link dropdown-togle",id:"resourcesDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Stories"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"resourcesDropdown"},r.a.createElement(s.b,{to:"/resources",className:"dropdown-item"},"Archive"),a?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(s.b,{to:"/resources/new",className:"dropdown-item"},"New Post")):null))),r.a.createElement("ul",{className:"navbar-nav"},a?r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/logout",className:"nav-link"},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")):r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/register",className:"nav-link"},r.a.createElement("i",{className:"fa fa-user-plus"}),"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/login",className:"nav-link"},r.a.createElement("i",{className:"fa fa-sign-in"}),"Login"))))))};t(120);var P=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(k,{user:t}),r.a.createElement(T,{user:t,setUser:l}))};t(121);c.a.render(r.a.createElement(s.a,null,r.a.createElement(P,null)),document.querySelector("#root"))},61:function(e,a,t){e.exports=t(122)}},[[61,1,2]]]);
//# sourceMappingURL=main.51c07983.chunk.js.map